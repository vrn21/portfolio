---
interface Props {
  title?: string;
  description?: string;
  image?: string;
}

import { metaData } from "../config";
import { SEO } from "astro-seo";

import { getImagePath } from "astro-opengraph-images";

const { title, description = metaData.description, image } = Astro.props;

const { url, site } = Astro;
const openGraphImageUrl = getImagePath({ url, site });

// If the image is not provided, use the default image
const openGraphImage = image
  ? new URL(image, url.href).href
  : openGraphImageUrl;
---

<!-- Required OG meta tags for astro-opengraph-images -->
<meta property="og:title" content={title || metaData.title} />
<meta property="og:url" content={url.href} />
<meta property="og:type" content="website" />
<meta property="og:image" content={openGraphImage} />

<SEO
  title={title}
  titleTemplate=`%s | ${metaData.title}`
  titleDefault={metaData.title}
  description={description}
  charset="UTF-8"
  openGraph={{
    basic: {
      title: title || metaData.title,
      type: "website",
      image: openGraphImageUrl,
      url: url,
    },
    optional: {
      description,
      siteName: "vrn21",
      locale: "in_US",
    },
  }}
  twitter={{
    card: "summary_large_image",
    title: title || metaData.title,
    description,
    image: openGraphImage,
    creator: "@theVRN21",
  }}
  extend={{
    // extending the default link tags
    link: [{ rel: "icon", href: "/favicon.ico" }],
  }}
/>
